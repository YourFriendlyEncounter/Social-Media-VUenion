(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd3513fe"],{"5da9":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.user?r("div",{attrs:{id:"personal-page"}},[r("div",{attrs:{id:"personal-page-top"}},[r("div",{attrs:{id:"personal-page-image"}},[r("img",{staticStyle:{"min-height":"128","max-height":"300"},attrs:{id:"img-avatar",width:"200",src:t.imageURL}}),t.isUserMe?r("button",{staticClass:"custom-button",attrs:{id:"button-edit-profile"},on:{click:t.editProfile}},[t._v(" Редактировать профиль")]):t._e()]),r("div",{attrs:{id:"personal-page-text-info"}},[r("h2",[t._v(" "+t._s(t.user.name)+" "+t._s(t.user.lastName))]),r("p",[t._v(" "+t._s(t.getInfo.status)+" ")]),t.user.showDateOfBirth?r("p",[t._v(" "+t._s(t.getBirthDate)+" ")]):t._e()])]),r("h2",[t._v("О себе:")]),r("p",[t._v(" "+t._s(t.getInfo.about)+" ")]),r("h2",{staticStyle:{"margin-bottom":"0.5rem"}},[t._v("Лента: ")]),r("PostSection",{attrs:{field:t.user.id,allowPosting:t.user.allowWallPublications||t.isUserMe,allowCommentsOnWall:t.user.allowCommentsOnWall}})],1):r("div",{staticClass:"div-loading"},[r("div",{staticClass:"loading-inside"},[r("Loading",{attrs:{displayWhatLoading:!1}})],1)])},a=[],n=(r("7db0"),r("45fc"),r("9911"),r("96cf"),r("1da1")),i=r("23cb5"),o=r("3a5e"),u={components:{PostSection:i["a"],Loading:o["a"]},computed:{getAuthors:function(){return this.$store.getters.getUserList},getInfo:function(){var t={};return t.about=this.user.about,t.about||(t.about="Подробная информация о себе отсутствует."),t.status=this.user.status,t.status||(t.status="Статус отсутствует."),t},isUserMe:function(){return this.id==this.$store.getters.user.id},getBirthDate:function(){var t=new Date(this.user.birthDate),e=Math.floor((new Date-t.getTime())/31536e6);return e<0?"Родится "+t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" (через "+(-e-1)+" "+this.getYearProperly(-e-1)+")":t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" ("+e+" "+this.getYearProperly(e)+")"},getLoadedUsers:function(){return this.$store.getters.getUserList}},methods:{getYearProperly:function(t){return t%10==1?"год":t%10!=2&&t%10!=3&&t%10!=4||(t%100-t%10)/10==1?"лет":"года"},editProfile:function(){this.$router.push({name:"EditProfile",params:{id:this.id}})},setImageURL:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.image){e.next=5;break}s=r("2f65"),t.imageURL=s("./anonymous.svg"),e.next=15;break;case 5:if(a=t.$store.getters.getLoadedUserAvatarURLs.find((function(e){return e.id==t.user.id})),!a){e.next=10;break}t.imageURL=a.link,e.next=15;break;case 10:return n="userAvatars/"+t.id,e.next=13,t.$store.dispatch("getImage",{link:n});case 13:i=e.sent,t.imageURL=i;case 15:case"end":return e.stop()}}),e)})))()},setCurrentPageUser:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.getLoadedUsers.some((function(e){return e.id==t.id}))){e.next=4;break}t.user=t.$store.getters.getUserById(t.id),e.next=8;break;case 4:return r=t.id,e.next=7,t.$store.dispatch("loadUserInfo",{userID:r});case 7:t.user=e.sent;case 8:case"end":return e.stop()}}),e)})))()}},data:function(){return{user:null,imageURL:""}},props:{id:String},created:function(){var t=this;this.setCurrentPageUser().then((function(){t.setImageURL()}))}},c=u,d=(r("7690"),r("2877")),g=Object(d["a"])(c,s,a,!1,null,"5cdf1a14",null);e["default"]=g.exports},7690:function(t,e,r){"use strict";var s=r("d5bf"),a=r.n(s);a.a},d5bf:function(t,e,r){}}]);
//# sourceMappingURL=chunk-fd3513fe.3eb65bc6.js.map