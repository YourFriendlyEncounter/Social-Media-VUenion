{"version":3,"sources":["webpack:///./src/views/PersonalPage.vue?f69f","webpack:///src/views/PersonalPage.vue","webpack:///./src/views/PersonalPage.vue?46ab","webpack:///./src/views/PersonalPage.vue?3ccd","webpack:///./src/views/PersonalPage.vue?f0a9"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","staticClass","on","editProfile","_v","_e","_s","user","name","lastName","getInfo","status","getBirthDate","about","id","allowWallPublications","isUserMe","allowCommentsOnWall","staticRenderFns","document","getElementById","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,kBAAkB,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,sBAAsB,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,wBAAwB,CAACF,EAAG,MAAM,CAACG,YAAY,CAAC,aAAa,MAAM,aAAa,OAAOD,MAAM,CAAC,GAAK,aAAa,MAAQ,SAAUN,EAAY,SAAEI,EAAG,SAAS,CAACI,YAAY,gBAAgBF,MAAM,CAAC,GAAK,uBAAuBG,GAAG,CAAC,MAAQT,EAAIU,cAAc,CAACV,EAAIW,GAAG,2BAA2BX,EAAIY,OAAOR,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,4BAA4B,CAACF,EAAG,KAAK,CAACJ,EAAIW,GAAG,IAAIX,EAAIa,GAAGb,EAAIc,KAAKC,MAAM,IAAIf,EAAIa,GAAGb,EAAIc,KAAKE,aAAaZ,EAAG,IAAI,CAACJ,EAAIW,GAAG,IAAIX,EAAIa,GAAGb,EAAIiB,QAAQC,QAAQ,OAAOd,EAAG,IAAI,CAACJ,EAAIW,GAAG,IAAIX,EAAIa,GAAGb,EAAImB,cAAc,WAAWf,EAAG,KAAK,CAACJ,EAAIW,GAAG,aAAaP,EAAG,IAAI,CAACJ,EAAIW,GAAG,IAAIX,EAAIa,GAAGb,EAAIiB,QAAQG,OAAO,OAAOhB,EAAG,KAAK,CAACG,YAAY,CAAC,gBAAgB,WAAW,CAACP,EAAIW,GAAG,aAAaP,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQN,EAAIc,KAAKO,GAAG,aAAerB,EAAIc,KAAKQ,uBAAyBtB,EAAIuB,SAAS,oBAAsBvB,EAAIc,KAAKU,wBAAwB,IACnhCC,EAAkB,G,yDC8BtB,GACE,WAAF,CACI,YAAJ,QAEE,SAAF,CACI,mBADJ,WAEM,OAAN,0CAEI,WAJJ,WAKM,OAAN,iCAEI,QAPJ,WAQM,IAAN,KASM,OARA,EAAN,sBACA,UACA,oDAEM,EAAN,wBACA,WACA,gCAEA,GAEI,SAnBJ,WAoBM,OAAN,sCAEI,aAtBJ,WAuBM,IAAN,gCACA,6CACM,OAAN,sEAIE,QAAF,CACI,YADJ,WAEM,KAAN,cAAQ,KAAR,cAAQ,OAAR,CAAU,GAAV,YAEI,aAJJ,WAIM,IAAN,OAAM,OAAN,qDAAQ,IAAR,QAAQ,OAAR,6EACA,aADA,gBAGgB,EAAhB,UACgBC,SAASC,eAAe,cACxC,yCALA,0BAQgB,EAAhB,sFAEA,EAVA,iBAWgB,SAAhB,6BACA,2BAZA,+BAegB,EAAhB,oBAfA,UAgBA,gCAhBA,QAgBgB,EAhBhB,OAkBgB,SAAhB,6BACA,sBAnBA,gDAwBE,KA7DF,WA8DI,MAAJ,CACM,KAAN,OAGE,MAAF,CACI,GAAJ,QAEE,YArEF,WAsEI,KAAJ,8BAEE,QAxEF,WAyEI,KAAJ,iBCxGsV,I,wBCQlVC,EAAY,eACd,EACA7B,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAG,E,2CCnBf,yBAA2e,EAAG","file":"js/chunk-ae72b4fa.97cd2d02.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"personal-page\"}},[_c('div',{attrs:{\"id\":\"personal-page-top\"}},[_c('div',{attrs:{\"id\":\"personal-page-image\"}},[_c('img',{staticStyle:{\"min-height\":\"128\",\"max-height\":\"300\"},attrs:{\"id\":\"img-avatar\",\"width\":\"200\"}}),(_vm.isUserMe)?_c('button',{staticClass:\"custom-button\",attrs:{\"id\":\"button-edit-profile\"},on:{\"click\":_vm.editProfile}},[_vm._v(\"Редактировать профиль\")]):_vm._e()]),_c('div',{attrs:{\"id\":\"personal-page-text-info\"}},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.user.name)+\" \"+_vm._s(_vm.user.lastName))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.getInfo.status)+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.getBirthDate)+\" \")])])]),_c('h2',[_vm._v(\"О себе:\")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.getInfo.about)+\" \")]),_c('h2',{staticStyle:{\"margin-bottom\":\"0.5rem\"}},[_vm._v(\"Лента: \")]),_c('PostSection',{attrs:{\"field\":_vm.user.id,\"allowPosting\":_vm.user.allowWallPublications || _vm.isUserMe,\"allowCommentsOnWall\":_vm.user.allowCommentsOnWall}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"personal-page\">\r\n        <div id=\"personal-page-top\">\r\n            <div id=\"personal-page-image\">\r\n                <img id=\"img-avatar\" width=\"200\" style=\"min-height: 128; max-height: 300;\">\r\n                <button \r\n                v-if=\"isUserMe\" \r\n                id=\"button-edit-profile\" \r\n                class=\"custom-button\"\r\n                @click=\"editProfile\"\r\n                >Редактировать профиль</button>\r\n            </div>\r\n            <div id=\"personal-page-text-info\">\r\n                <h2> {{ user.name }} {{ user.lastName }}</h2>\r\n                <p> {{ getInfo.status }} </p>\r\n                <p> {{ getBirthDate }} </p>\r\n            </div>\r\n        </div>\r\n        <h2>О себе:</h2>\r\n        <p> {{ getInfo.about }} </p>\r\n        <h2 style=\"margin-bottom: 0.5rem;\">Лента: </h2>\r\n        <PostSection \r\n        :field=\"user.id\" \r\n        :allowPosting=\"user.allowWallPublications || isUserMe\" \r\n        :allowCommentsOnWall=\"user.allowCommentsOnWall\"/>\r\n    </div>    \r\n</template>\r\n\r\n<script>\r\nimport PostSection from '../components/PostSection'\r\n\r\nexport default {\r\n    components: {\r\n        PostSection\r\n    },\r\n    computed: {\r\n        getCurrentPageUser() {\r\n            return this.$store.getters.getUserById(this.id);\r\n        },\r\n        getAuthors() {\r\n            return this.$store.getters.getUserList;\r\n        },\r\n        getInfo() {\r\n            let tempUser = {}\r\n            tempUser.about = this.user.about;\r\n            if(!tempUser.about)\r\n                tempUser.about = \"Подробная информация о себе отсутствует.\"\r\n\r\n            tempUser.status = this.user.status;\r\n            if(!tempUser.status)\r\n                tempUser.status = \"Статус отсутствует.\"\r\n\r\n            return tempUser;\r\n        },\r\n        isUserMe(){\r\n            return this.id == this.$store.getters.user.id\r\n        },\r\n        getBirthDate() {\r\n            let date = new Date(this.user.birthDate)\r\n            let difference = Math.floor(((new Date) - date.getTime()) / 31536000000);\r\n            return date.getDate() + \".\" + (date.getMonth() + 1) + \".\" + date.getFullYear() + \" (\" + difference + \" лет)\";\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        editProfile() {\r\n            this.$router.push({ name: \"EditProfile\", params: { id: this.id }})\r\n        },\r\n        async findImageURL(){\r\n            if(!this.user.image)\r\n            {\r\n                let images = require.context('../assets/', false, /\\.svg$/);\r\n                document.getElementById(\"img-avatar\")\r\n                .setAttribute('src', images(\"./anonymous.svg\"))\r\n            }\r\n            else{\r\n                let URL = this.$store.getters.getLoadedUserAvatarURLs.find(u => u.id == this.user.id)\r\n                // Если ссылка уже была загружена ранее.\r\n                if(URL){\r\n                    document.getElementById(\"img-avatar\")\r\n                    .setAttribute('src', URL.link)\r\n                }\r\n                else{\r\n                    let link = 'userAvatars/' + this.id;\r\n                    let newLink = await this.$store.dispatch('getImage', link)\r\n                    \r\n                    document.getElementById(\"img-avatar\")\r\n                    .setAttribute('src', newLink)\r\n                }\r\n            }\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            user: null\r\n        }\r\n    },\r\n    props: {\r\n        id: String\r\n    },\r\n    beforeMount() {\r\n        this.user = this.getCurrentPageUser\r\n    },\r\n    mounted() {\r\n        this.findImageURL()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\np{\r\n    margin: 0.5rem 0;\r\n}\r\n#personal-page{\r\n    width: 100%;\r\n    text-align: left;\r\n}\r\n#personal-page-top{\r\n    display:flex;\r\n}\r\n#personal-page-image{\r\n    width: 200px;\r\n    margin-bottom: 1rem;\r\n}\r\n#personal-page-text-info{\r\n    margin: 0.5rem;\r\n    text-align: left;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonalPage.vue?vue&type=template&id=3ed540ae&scoped=true&\"\nimport script from \"./PersonalPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonalPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonalPage.vue?vue&type=style&index=0&id=3ed540ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ed540ae\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalPage.vue?vue&type=style&index=0&id=3ed540ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonalPage.vue?vue&type=style&index=0&id=3ed540ae&scoped=true&lang=css&\""],"sourceRoot":""}