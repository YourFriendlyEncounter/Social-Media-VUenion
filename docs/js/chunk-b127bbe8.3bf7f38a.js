(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b127bbe8"],{"5da9":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("div",{attrs:{id:"personal-page"}},[s("div",{attrs:{id:"personal-page-top"}},[s("div",{attrs:{id:"personal-page-image"}},[s("img",{staticStyle:{"min-height":"128","max-height":"300"},attrs:{id:"img-avatar",width:"200",src:t.imageURL}}),t.isUserMe?s("button",{staticClass:"custom-button",attrs:{id:"button-edit-profile"},on:{click:t.editProfile}},[t._v(" Редактировать профиль")]):t._e()]),s("div",{attrs:{id:"personal-page-text-info"}},[s("h2",[t._v(" "+t._s(t.user.name)+" "+t._s(t.user.lastName))]),s("p",[t._v(" "+t._s(t.getInfo.status)+" ")]),s("p",[t._v(" "+t._s(t.getBirthDate)+" ")])])]),s("h2",[t._v("О себе:")]),s("p",[t._v(" "+t._s(t.getInfo.about)+" ")]),s("h2",{staticStyle:{"margin-bottom":"0.5rem"}},[t._v("Лента: ")]),s("PostSection",{attrs:{field:t.user.id,allowPosting:t.user.allowWallPublications||t.isUserMe,allowCommentsOnWall:t.user.allowCommentsOnWall}})],1):s("div",{staticClass:"div-loading"},[s("div",{staticClass:"loading-inside"},[s("Loading",{attrs:{displayWhatLoading:!1}})],1)])},a=[],n=(s("7db0"),s("45fc"),s("9911"),s("96cf"),s("1da1")),i=s("23cb5"),o=s("3a5e"),u={components:{PostSection:i["a"],Loading:o["a"]},computed:{getAuthors:function(){return this.$store.getters.getUserList},getInfo:function(){var t={};return t.about=this.user.about,t.about||(t.about="Подробная информация о себе отсутствует."),t.status=this.user.status,t.status||(t.status="Статус отсутствует."),t},isUserMe:function(){return this.id==this.$store.getters.user.id},getBirthDate:function(){var t=new Date(this.user.birthDate),e=Math.floor((new Date-t.getTime())/31536e6);return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" ("+e+" лет)"},getLoadedUsers:function(){return this.$store.getters.getUserList}},methods:{editProfile:function(){this.$router.push({name:"EditProfile",params:{id:this.id}})},setImageURL:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.image){e.next=5;break}r=s("2f65"),t.imageURL=r("./anonymous.svg"),e.next=15;break;case 5:if(a=t.$store.getters.getLoadedUserAvatarURLs.find((function(e){return e.id==t.user.id})),!a){e.next=10;break}t.imageURL=a.link,e.next=15;break;case 10:return n="userAvatars/"+t.id,e.next=13,t.$store.dispatch("getImage",{link:n});case 13:i=e.sent,t.imageURL=i;case 15:case"end":return e.stop()}}),e)})))()},setCurrentPageUser:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.getLoadedUsers.some((function(e){return e.id==t.id}))){e.next=4;break}t.user=t.$store.getters.getUserById(t.id),e.next=8;break;case 4:return s=t.id,e.next=7,t.$store.dispatch("loadUserInfo",{userID:s});case 7:t.user=e.sent;case 8:case"end":return e.stop()}}),e)})))()}},data:function(){return{user:null,imageURL:""}},props:{id:String},created:function(){var t=this;this.setCurrentPageUser().then((function(){t.setImageURL()}))}},c=u,d=(s("ff52"),s("2877")),g=Object(d["a"])(c,r,a,!1,null,"098b2426",null);e["default"]=g.exports},bc17:function(t,e,s){},ff52:function(t,e,s){"use strict";var r=s("bc17"),a=s.n(r);a.a}}]);
//# sourceMappingURL=chunk-b127bbe8.3bf7f38a.js.map