(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f619417"],{"1d39":function(e,t,r){"use strict";var s=r("9f45"),a=r.n(s);a.a},"5da9":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("div",{attrs:{id:"personal-page"}},[r("div",{attrs:{id:"personal-page-top"}},[r("div",{attrs:{id:"personal-page-image"}},[r("img",{staticStyle:{"min-height":"128","max-height":"300"},attrs:{id:"img-avatar",width:"200",src:e.imageURL}}),e.isUserMe?r("button",{staticClass:"custom-button",attrs:{id:"button-edit-profile"},on:{click:e.editProfile}},[e._v(" Редактировать профиль")]):e._e()]),r("div",{attrs:{id:"personal-page-text-info"}},[r("h2",[e._v(" "+e._s(e.user.name)+" "+e._s(e.user.lastName))]),r("p",[e._v(" "+e._s(e.getInfo.status)+" ")]),e.user.showDateOfBirth?r("p",[e._v(" "+e._s(e.getBirthDate)+" ")]):e._e()])]),r("h2",[e._v("О себе:")]),r("p",[e._v(" "+e._s(e.getInfo.about)+" ")]),r("h2",{staticStyle:{"margin-bottom":"0.5rem"}},[e._v("Лента: ")]),r("PostSection",{attrs:{field:e.user.id,allowPosting:e.user.allowWallPublications||e.isUserMe,allowCommentsOnWall:e.user.allowCommentsOnWall}})],1):r("div",{staticClass:"div-loading"},[r("div",{staticClass:"loading-inside"},[r("Loading",{attrs:{displayWhatLoading:!1}})],1)])},a=[],n=(r("7db0"),r("45fc"),r("9911"),r("96cf"),r("1da1")),i=r("23cb5"),o=r("3a5e"),u=r("d719"),d=r.n(u),c={components:{PostSection:i["a"],Loading:o["a"]},computed:{getAuthors:function(){return this.$store.getters.getUserList},getInfo:function(){var e={};return e.about=this.user.about,e.about||(e.about="Подробная информация о себе отсутствует."),e.status=this.user.status,e.status||(e.status="Статус отсутствует."),e},isUserMe:function(){return this.id==this.$store.getters.user.id},getBirthDate:function(){var e=new Date(this.user.birthDate),t=Math.floor((new Date-e.getTime())/31536e6);return t<0?"Родится "+e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()+" (через "+(-t-1)+" "+this.getYearProperly(-t-1)+")":e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()+" ("+t+" "+this.getYearProperly(t)+")"},getLoadedUsers:function(){return this.$store.getters.getUserList}},methods:{getYearProperly:function(e){return e%10==1?"год":e%10!=2&&e%10!=3&&e%10!=4||(e%100-e%10)/10==1?"лет":"года"},editProfile:function(){this.$router.push({name:"EditProfile",params:{id:this.id}})},setImageURL:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user.image){t.next=5;break}s=r("2f65"),e.imageURL=s("./anonymous.svg"),t.next=15;break;case 5:if(a=e.$store.getters.getLoadedUserAvatarURLs.find((function(t){return t.id==e.user.id})),!a){t.next=10;break}e.imageURL=a.link,t.next=15;break;case 10:return n="userAvatars/"+e.id,t.next=13,e.$store.dispatch("getImage",{link:n});case 13:i=t.sent,e.imageURL=i;case 15:case"end":return t.stop()}}),t)})))()},setCurrentPageUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.getLoadedUsers.some((function(t){return t.id==e.id}))){t.next=4;break}e.user=e.$store.getters.getUserById(e.id),t.next=8;break;case 4:return r=e.id,t.next=7,e.$store.dispatch("loadUserInfo",{userID:r});case 7:e.user=t.sent;case 8:case"end":return t.stop()}}),t)})))()}},data:function(){return{user:null,imageURL:""}},props:{id:String},created:function(){var e=this;this.setCurrentPageUser().then((function(){if(null==e.user)return e.$router.go(-1),void d.a.error("Данный пользователь недоступен.");e.setImageURL()}))}},g=c,l=(r("1d39"),r("2877")),f=Object(l["a"])(g,s,a,!1,null,"594e6a30",null);t["default"]=f.exports},"9f45":function(e,t,r){}}]);
//# sourceMappingURL=chunk-0f619417.025c14c0.js.map